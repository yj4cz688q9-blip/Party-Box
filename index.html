<!DOCTYPE html>
<html>
<head>
    <link rel="apple-touch-icon" href="F1CE1FF7-8FC2-440D-8100-49C689144B20.png">
    <link rel="icon" type="image/png" href="F1CE1FF7-8FC2-440D-8100-49C689144B20.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Party Box</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background-color: #0d0d0d;
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .screen { display: none; flex-direction: column; align-items: center; justify-content: center; width: 100%; min-height: 100vh; padding: 20px; }
        .screen.active { display: flex; }
        h1 { font-size: 48px; color: #00e5cc; margin-bottom: 10px; }
        h2 { font-size: 28px; color: #00e5cc; margin-bottom: 30px; }
        .subtitle { font-size: 16px; color: #888; margin-bottom: 60px; }
      .game-btn { background-color: #1a1a1a; color: white; border: 2px solid #00e5cc; border-radius: 16px; padding: 20px 10px; font-size: 20px; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px; aspect-ratio: 1; }
        .config-box { background-color: #1a1a1a; border-radius: 20px; padding: 20px; width: 100%; max-width: 320px; margin-bottom: 20px; }
        .config-label { font-size: 16px; color: #888; margin-bottom: 10px; }
        .counter { display: flex; align-items: center; justify-content: center; gap: 20px; }
        .counter-btn { background-color: #00e5cc; color: #0d0d0d; border: none; border-radius: 50%; width: 44px; height: 44px; font-size: 24px; cursor: pointer; font-weight: bold; }
        .counter-value { font-size: 32px; font-weight: bold; min-width: 50px; }
        .start-btn { background-color: #00e5cc; color: #0d0d0d; border: none; border-radius: 20px; padding: 18px 40px; font-size: 20px; font-weight: bold; cursor: pointer; margin-top: 10px; width: 100%; max-width: 320px; }
        .back-btn { background: none; border: none; color: #888; font-size: 16px; margin-top: 20px; cursor: pointer; }
        .team-input { background-color: #1a1a1a; border: 2px solid #333; border-radius: 12px; padding: 12px 16px; color: white; font-size: 16px; width: 100%; max-width: 320px; margin: 6px 0; }
        .team-input:focus { border-color: #00e5cc; outline: none; }
        .manche-info { font-size: 14px; color: #888; margin-bottom: 5px; }
        .team-info { font-size: 20px; color: #00e5cc; font-weight: bold; margin-bottom: 30px; }
        .timer-circle { width: 120px; height: 120px; border-radius: 50%; border: 6px solid #00e5cc; display: flex; align-items: center; justify-content: center; font-size: 48px; font-weight: bold; margin-bottom: 40px; color: white; }
        .timer-circle.warning { border-color: orange; color: orange; }
        .timer-circle.danger { border-color: red; color: red; }
        .word-card { background-color: #1a1a1a; border-radius: 24px; padding: 40px 30px; width: 100%; max-width: 320px; margin-bottom: 40px; }
        .word-text { font-size: 32px; font-weight: bold; }
        .action-btns { display: flex; gap: 20px; }
        .btn-red { background-color: #ff3b3b; border: none; border-radius: 20px; padding: 20px; font-size: 36px; cursor: pointer; flex: 1; }
        .btn-green { background-color: #00c97a; border: none; border-radius: 20px; padding: 20px; font-size: 36px; cursor: pointer; flex: 1; }
        .score-box { background-color: #1a1a1a; border-radius: 20px; padding: 20px; width: 100%; max-width: 320px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        .score-team { font-size: 18px; }
        .score-points { font-size: 24px; font-weight: bold; color: #00e5cc; }

        /* R√àGLES */
        .regle-box { background-color: #1a1a1a; border-radius: 24px; padding: 30px; width: 100%; max-width: 320px; margin-bottom: 30px; }
        .regle-emoji { font-size: 60px; margin-bottom: 15px; }
        .regle-titre { font-size: 22px; font-weight: bold; color: #00e5cc; margin-bottom: 10px; }
        .regle-desc { font-size: 16px; color: #aaa; line-height: 1.5; }

        /* COMPTE √Ä REBOURS */
        .countdown-number { font-size: 120px; font-weight: bold; color: #00e5cc; }
    </style>
</head>
<body>

    <!-- ACCUEIL -->
    <div class="screen active" id="screen-home">
        <h1><img src="F1CE1FF7-8FC2-440D-8100-49C689144B20.png" style="width:200px; border-radius:20px; margin-bottom:20px;">
</h1>
        <p class="subtitle">Choisis ton jeu !</p>
        <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:12px;width:100%;max-width:340px;margin-top:20px">
    <button class="game-btn" onclick="showScreen('screen-config')">‚è±Ô∏è<br>Time's Up</button>
    <button class="game-btn" onclick="window.location.href='millebornes.html'">üöó<br>Mille Bornes</button>
    <button class="game-btn" onclick="window.location.href='tiktaktoe.html'">‚ùå‚≠ï<br>Tic Tac Toe</button>
    <button class="game-btn" onclick="window.location.href='loupgarou.html'">üê∫<br>Loup Garou</button>
    <button class="game-btn" onclick="window.location.href='roue.html'">üé°<br>Roue</button>
    <button class="game-btn" onclick="window.location.href='votes.html'">üó≥Ô∏è<br>Votes</button>
</div>

    </div>

    <!-- CONFIG -->
    <div class="screen" id="screen-config">
        <h2>‚öôÔ∏è Configuration</h2>
        <div class="config-box">
            <p class="config-label">üë• Nombre d'√©quipes</p>
            <div class="counter">
                <button class="counter-btn" onclick="changeTeams(-1)">‚àí</button>
                <span class="counter-value" id="teams-value">2</span>
                <button class="counter-btn" onclick="changeTeams(1)">+</button>
            </div>
        </div>
        <div class="config-box">
            <p class="config-label">‚è±Ô∏è Dur√©e du timer (secondes)</p>
            <div class="counter">
                <button class="counter-btn" onclick="changeTimer(-5)">‚àí</button>
                <span class="counter-value" id="timer-value">30</span>
                <button class="counter-btn" onclick="changeTimer(5)">+</button>
            </div>
        </div>
        <button class="start-btn" onclick="showTeamNames()">Suivant ‚û°Ô∏è</button>
        <button class="back-btn" onclick="showScreen('screen-home')">‚Üê Retour</button>
    </div>

    <!-- NOMS √âQUIPES -->
    <div class="screen" id="screen-teams">
        <h2>‚úèÔ∏è Noms des √©quipes</h2>
        <div id="team-inputs"></div>
        <button class="start-btn" onclick="startGame()" style="margin-top:20px">C'est parti ! üöÄ</button>
        <button class="back-btn" onclick="showScreen('screen-config')">‚Üê Retour</button>
    </div>

    <!-- R√àGLES DE LA MANCHE -->
    <div class="screen" id="screen-regles">
        <p class="manche-info" id="regles-manche"></p>
        <h2>R√®gles de la manche</h2>
        <div class="regle-box">
            <div class="regle-emoji" id="regle-emoji"></div>
            <div class="regle-titre" id="regle-titre"></div>
            <div class="regle-desc" id="regle-desc"></div>
        </div>
        <button class="start-btn" onclick="afficherPreTour()">Compris ! ‚úÖ</button>
    </div>

    <!-- PR√â-TOUR -->
    <div class="screen" id="screen-pretour">
        <p class="manche-info" id="pretour-manche"></p>
        <h2 id="pretour-team"></h2>
        <p style="color:#888; margin-bottom:15px; font-size:14px" id="pretour-regle"></p>
        <p style="color:#888; margin-bottom:40px">Passez le t√©l√©phone √† cette √©quipe !</p>
        <button class="start-btn" onclick="startCountdown()">‚ñ∂Ô∏è Lancer le tour</button>
    </div>

    <!-- COMPTE √Ä REBOURS -->
    <div class="screen" id="screen-countdown">
        <div class="countdown-number" id="countdown-display">3</div>
    </div>

    <!-- √âCRAN JEU -->
    <div class="screen" id="screen-jeu">
        <p class="manche-info" id="jeu-manche"></p>
        <p class="team-info" id="jeu-team"></p>
        <div class="timer-circle" id="timer-display">30</div>
        <div class="word-card">
            <p class="word-text" id="word-display">...</p>
        </div>
        <div class="action-btns">
            <button class="btn-red" onclick="motRat√©()">‚ùå</button>
            <button class="btn-green" onclick="motReussi()">‚úÖ</button>
        </div>
    </div>

    <!-- FIN DE TOUR -->
    <div class="screen" id="screen-fintour">
        <h2>‚è∞ Temps √©coul√© !</h2>
        <p style="color:#888; margin-bottom:30px" id="fintour-info"></p>
        <div id="scores-list"></div>
        <button class="start-btn" onclick="tourSuivant()" style="margin-top:20px" id="btn-suivant">Tour suivant ‚û°Ô∏è</button>
    </div>

    <!-- FIN DE PARTIE -->
    <div class="screen" id="screen-fin">
        <h2>üèÜ Fin de partie !</h2>
        <p style="color:#888; margin-bottom:30px">R√©sultats finaux</p>
        <div id="final-scores"></div>
        <button class="start-btn" onclick="showScreen('screen-home')" style="margin-top:30px">üè† Accueil</button>
    </div>

    <script>
        const mots = [
            "Chat","Chien","Voiture","Pizza","Football","Guitare","Plage","Montagne",
            "Avion","Train","V√©lo","Soleil","Lune","√âtoile","For√™t","Rivi√®re",
            "Chocolat","Glace","Hamburger","Spaghetti","T√©l√©phone","Ordinateur",
            "T√©l√©vision","Radio","Canap√©","Table","Chaise","Fen√™tre","Porte","Escalier",
            "Piscine","Jardin","Fleur","Arbre","Oiseau","Poisson","Lapin","Cheval",
            "Lion","√âl√©phant","Girafe","Singe","Serpent","Crocodile","Requin","Dauphin",
            "Ballon","Raquette","Basket","Tennis","Natation","Ski","Boxe","Danse",
            "Musique","Chanson","Concert","Sc√®ne","Microphone","Batterie","Piano","Violon",
            "Peinture","Sculpture","Photo","Cin√©ma","Th√©√¢tre","Livre","Magazine","Journal",
            "√âcole","Universit√©","Professeur","√âl√®ve","Crayon","Stylo","Cahier","Sac",
            "Manteau","Chapeau","Lunettes","Montre","Bague","Collier","Chaussures",
            "Frigo","Four","Micro-onde","Casserole","Assiette","Verre","Fourchette","Couteau",
            "H√¥pital","M√©decin","Infirmi√®re","Pharmacie","M√©dicament","Ambulance",
            "Pompier","Police","Avocat","Juge","Prison","Banque","Argent","Carte",
            "Vacances","Voyage","H√¥tel","Restaurant","Caf√©","Bar","Discoth√®que","F√™te",
            "Anniversaire","Cadeau","Bougie","G√¢teau","Confetti","Champagne",
            "Cool","Selfie","Hashtag","Internet","Wi-Fi","Emoji","Story","Like",
            "Influenceur","Podcast","Streaming","Playlist","Application","Notification",
            "Skateboard","Trottinette","Casque","√âcouteurs","Chargeur","C√¢ble",
            "Yoga","M√©ditation","Sport","Fitness","Musculation","Course","Marathon",
            "Burger","Tacos","Sushi","Kebab","Nuggets","Frites","Smoothie","Bubble tea",
            "Chanteur","Acteur","Footballeur","Joueur","Coach","Arbitre","Supporter",
            "Stade","Vestiaire","Troph√©e","M√©daille","Podium","Champion","√âquipe",
            "Printemps","√ât√©","Automne","Hiver","Pluie","Neige","Orage","Arc-en-ciel",
            "Camping","Randonn√©e","Tente","Sac de couchage","Boussole","Feu de camp",
            "Surf","Planche","Vague","Combinaison","Palmes","Masque","Tuba","Plong√©e",
            "Boulanger","Boucher","√âpicerie","March√©","Supermarch√©","Caisse","Chariot",
            "Dentiste","Opticien","Coiffeur","Barbier","Esth√©ticienne","Manucure",
            "Mairie","Pr√©fecture","Passeport","Carte d'identit√©","Permis","Amende",
            "Ascenseur","Escalator","Couloir","Parking","Garage","Atelier","Usine",
            "Tracteur","Moissonneuse","Ferme","Vache","Cochon","Poulet","Mouton","Ch√®vre",
            "Ruche","Abeille","Miel","Papillon","Coccinelle","Fourmi","Araign√©e","Moustique"
        ];

        const regles = [
            { emoji: "üó£Ô∏è", titre: "Manche 1 ‚Äî D√©crivez !", desc: "Vous pouvez dire tout ce que vous voulez, faire des phrases, donner des indices... Tout est permis sauf le mot !" },
            { emoji: "ü§´", titre: "Manche 2 ‚Äî Un seul mot !", desc: "Vous n'avez le droit qu'√† UN SEUL mot pour faire deviner. Pas de phrases, pas de gestes !" },
            { emoji: "üé≠", titre: "Manche 3 ‚Äî Mime !", desc: "Silence total ! Vous devez mimer uniquement. Interdit de parler ou de faire des sons !" }
        ];

        let nbTeams = 2;
        let timerDuration = 30;
        let teamNames = [];
        let scores = [];
        let mancheActuelle = 1;
        let equipeActuelle = 0;
        let motIndex = 0;
        let motsMelang√©s = [];
        let timerInterval = null;
        let tempsRestant = 0;

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function changeTeams(delta) {
            nbTeams = Math.min(6, Math.max(2, nbTeams + delta));
            document.getElementById('teams-value').textContent = nbTeams;
        }

        function changeTimer(delta) {
            timerDuration = Math.min(120, Math.max(10, timerDuration + delta));
            document.getElementById('timer-value').textContent = timerDuration;
        }

        function showTeamNames() {
            const container = document.getElementById('team-inputs');
            container.innerHTML = '';
            for (let i = 1; i <= nbTeams; i++) {
                const input = document.createElement('input');
                input.className = 'team-input';
                input.placeholder = 'üèÜ √âquipe ' + i;
                input.id = 'team-' + i;
                container.appendChild(input);
            }
            showScreen('screen-teams');
        }

        function startGame() {
            teamNames = [];
            scores = [];
            for (let i = 1; i <= nbTeams; i++) {
                const val = document.getElementById('team-' + i).value.trim();
                teamNames.push(val || '√âquipe ' + i);
                scores.push(0);
            }
            mancheActuelle = 1;
            equipeActuelle = 0;
            motsMelang√©s = [...mots].sort(() => Math.random() - 0.5);
            motIndex = 0;
            afficherRegles();
        }

        function afficherRegles() {
            const r = regles[mancheActuelle - 1];
            document.getElementById('regles-manche').textContent = 'üéÆ Manche ' + mancheActuelle + ' / 3';
            document.getElementById('regle-emoji').textContent = r.emoji;
            document.getElementById('regle-titre').textContent = r.titre;
            document.getElementById('regle-desc').textContent = r.desc;
            showScreen('screen-regles');
        }

        function afficherPreTour() {
            const r = regles[mancheActuelle - 1];
            document.getElementById('pretour-manche').textContent = 'üéÆ Manche ' + mancheActuelle + ' / 3';
            document.getElementById('pretour-team').textContent = 'üë• ' + teamNames[equipeActuelle];
            document.getElementById('pretour-regle').textContent = r.emoji + ' ' + r.titre;
            showScreen('screen-pretour');
        }

        function startCountdown() {
            showScreen('screen-countdown');
            let count = 3;
            document.getElementById('countdown-display').textContent = count;
            const interval = setInterval(() => {
                count--;
                if (count <= 0) {
                    clearInterval(interval);
                    startTour();
                } else {
                    document.getElementById('countdown-display').textContent = count;
                }
            }, 1000);
        }

        function startTour() {
            tempsRestant = timerDuration;
            document.getElementById('jeu-manche').textContent = 'üéÆ Manche ' + mancheActuelle + ' / 3';
            document.getElementById('jeu-team').textContent = 'üë• ' + teamNames[equipeActuelle];
            afficherMot();
            updateTimer();
            showScreen('screen-jeu');
            timerInterval = setInterval(() => {
                tempsRestant--;
                updateTimer();
                if (tempsRestant <= 0) finDeTour();
            }, 1000);
        }

        function afficherMot() {
            if (motIndex >= motsMelang√©s.length) {
                motsMelang√©s = [...mots].sort(() => Math.random() - 0.5);
                motIndex = 0;
            }
            document.getElementById('word-display').textContent = motsMelang√©s[motIndex];
        }

        function updateTimer() {
            const el = document.getElementById('timer-display');
            el.textContent = tempsRestant;
            el.className = 'timer-circle';
            if (tempsRestant <= 5) el.classList.add('danger');
            else if (tempsRestant <= 10) el.classList.add('warning');
        }

        function motReussi() {
            scores[equipeActuelle]++;
            motIndex++;
            afficherMot();
        }

        function motRat√©() {
            motIndex++;
            afficherMot();
        }

        function finDeTour() {
            clearInterval(timerInterval);
            document.getElementById('fintour-info').textContent = teamNames[equipeActuelle] + ' a jou√© !';
            afficherScores('scores-list');
            equipeActuelle++;

            const btn = document.getElementById('btn-suivant');
            if (equipeActuelle >= nbTeams) {
                if (mancheActuelle >= 3) {
                    btn.textContent = 'üèÜ Voir les r√©sultats';
                    btn.onclick = finDePartie;
                } else {
                    btn.textContent = 'Manche suivante ‚û°Ô∏è';
                    btn.onclick = mancheSuivante;
                }
            } else {
                btn.textContent = 'Tour suivant ‚û°Ô∏è';
                btn.onclick = afficherPreTour;
            }
            showScreen('screen-fintour');
        }

        function afficherScores(containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            teamNames.forEach((name, i) => {
                const div = document.createElement('div');
                div.className = 'score-box';
                div.innerHTML = '<span class="score-team">' + name + '</span><span class="score-points">' + scores[i] + ' pts</span>';
                container.appendChild(div);
            });
        }

        function tourSuivant() {
            afficherPreTour();
        }

        function mancheSuivante() {
            mancheActuelle++;
            equipeActuelle = 0;
            motsMelang√©s = [...mots].sort(() => Math.random() - 0.5);
            motIndex = 0;
            afficherRegles();
        }

        function finDePartie() {
            afficherScores('final-scores');
            showScreen('screen-fin');
        }
    </script>
</body>
</html>
