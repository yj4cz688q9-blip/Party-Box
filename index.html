<!DOCTYPE html>
<html>
<head>
    <link rel="apple-touch-icon" href="F1CE1FF7-8FC2-440D-8100-49C689144B20.png">
    <link rel="icon" type="image/png" href="F1CE1FF7-8FC2-440D-8100-49C689144B20.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Party Box</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background-color: #0d0d0d; color: white; font-family: Arial, sans-serif; text-align: center; min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; padding: 20px; overflow-y: auto; }
        .screen { display: none; flex-direction: column; align-items: center; justify-content: flex-start; width: 100%; min-height: 100vh; padding: 20px; }
        .screen.active { display: flex; }
        h1 { font-size: 48px; color: #00e5cc; margin-bottom: 10px; }
        h2 { font-size: 28px; color: #00e5cc; margin-bottom: 30px; }
        .subtitle { font-size: 16px; color: #888; margin-bottom: 20px; }
        .game-btn { background-color: #1a1a1a; color: white; border: 2px solid #00e5cc; border-radius: 16px; padding: 20px 10px; font-size: 18px; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px; height: 110px; width: 100%; }
        .game-btn.tool-btn { border-color: #a78bfa; }
        .config-box { background-color: #1a1a1a; border-radius: 20px; padding: 20px; width: 100%; max-width: 320px; margin-bottom: 20px; }
        .config-label { font-size: 16px; color: #888; margin-bottom: 10px; }
        .counter { display: flex; align-items: center; justify-content: center; gap: 20px; }
        .counter-btn { background-color: #00e5cc; color: #0d0d0d; border: none; border-radius: 50%; width: 44px; height: 44px; font-size: 24px; cursor: pointer; font-weight: bold; }
        .counter-value { font-size: 32px; font-weight: bold; min-width: 50px; }
        .start-btn { background-color: #00e5cc; color: #0d0d0d; border: none; border-radius: 20px; padding: 18px 40px; font-size: 20px; font-weight: bold; cursor: pointer; margin-top: 10px; width: 100%; max-width: 320px; }
        .back-btn { background: none; border: none; color: #888; font-size: 16px; margin-top: 20px; cursor: pointer; }
        .team-input { background-color: #1a1a1a; border: 2px solid #333; border-radius: 12px; padding: 12px 16px; color: white; font-size: 16px; width: 100%; max-width: 320px; margin: 6px 0; }
        .team-input:focus { border-color: #00e5cc; outline: none; }
        .manche-info { font-size: 14px; color: #888; margin-bottom: 5px; }
        .team-info { font-size: 20px; color: #00e5cc; font-weight: bold; margin-bottom: 30px; }
        .timer-circle { width: 120px; height: 120px; border-radius: 50%; border: 6px solid #00e5cc; display: flex; align-items: center; justify-content: center; font-size: 48px; font-weight: bold; margin-bottom: 40px; color: white; }
        .timer-circle.warning { border-color: orange; color: orange; }
        .timer-circle.danger { border-color: red; color: red; }
        .word-card { background-color: #1a1a1a; border-radius: 24px; padding: 40px 30px; width: 100%; max-width: 320px; margin-bottom: 40px; }
        .word-text { font-size: 32px; font-weight: bold; }
        .action-btns { display: flex; gap: 20px; }
        .btn-red { background-color: #ff3b3b; border: none; border-radius: 20px; padding: 20px; font-size: 36px; cursor: pointer; flex: 1; }
        .btn-green { background-color: #00c97a; border: none; border-radius: 20px; padding: 20px; font-size: 36px; cursor: pointer; flex: 1; }
        .score-box { background-color: #1a1a1a; border-radius: 20px; padding: 20px; width: 100%; max-width: 320px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        .score-team { font-size: 18px; }
        .score-points { font-size: 24px; font-weight: bold; color: #00e5cc; }
        .regle-box { background-color: #1a1a1a; border-radius: 24px; padding: 30px; width: 100%; max-width: 320px; margin-bottom: 30px; }
        .regle-emoji { font-size: 60px; margin-bottom: 15px; }
        .regle-titre { font-size: 22px; font-weight: bold; color: #00e5cc; margin-bottom: 10px; }
        .regle-desc { font-size: 16px; color: #aaa; line-height: 1.5; }
        .countdown-number { font-size: 120px; font-weight: bold; color: #00e5cc; }
        .mots-restants { font-size: 13px; color: #888; margin-bottom: 10px; }
        .cat-tabs { display: flex; gap: 10px; width: 100%; max-width: 340px; margin-bottom: 20px; }
        .cat-tab { flex: 1; padding: 12px; border-radius: 14px; border: 2px solid #333; background-color: #1a1a1a; color: #888; font-size: 15px; font-weight: bold; cursor: pointer; transition: all 0.2s; }
        .cat-tab.active-jeux { border-color: #00e5cc; color: #00e5cc; background-color: #001a1a; }
        .cat-tab.active-tools { border-color: #a78bfa; color: #a78bfa; background-color: #1a0a2e; }

        /* MENU BURGER */
        .burger-btn { position: fixed; top: 18px; right: 18px; background-color: #1a1a1a; border: 2px solid #333; border-radius: 12px; width: 44px; height: 44px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 5px; cursor: pointer; z-index: 1000; }
        .burger-line { width: 22px; height: 2px; background-color: white; border-radius: 2px; transition: all 0.3s; }

        /* OVERLAY */
        .menu-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); z-index: 999; display: none; }
        .menu-overlay.active { display: block; }

        /* DRAWER */
        .menu-drawer { position: fixed; top: 0; right: -320px; width: 300px; height: 100%; background-color: #111; z-index: 1001; transition: right 0.3s ease; padding: 30px 20px; display: flex; flex-direction: column; }
        .menu-drawer.active { right: 0; }
        .menu-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 30px; }
        .menu-title { font-size: 22px; font-weight: bold; color: #00e5cc; }
        .menu-close { background: none; border: none; color: #888; font-size: 28px; cursor: pointer; }
        .menu-item { display: flex; align-items: center; gap: 14px; padding: 16px 14px; border-radius: 14px; cursor: pointer; margin-bottom: 8px; background-color: #1a1a1a; border: 2px solid #222; font-size: 16px; color: white; text-align: left; }
        .menu-item:hover { border-color: #00e5cc; }
        .menu-item-emoji { font-size: 22px; }
        .menu-version { margin-top: auto; font-size: 12px; color: #444; text-align: center; padding-top: 20px; }

        /* POPUP MENU */
        .popup { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.8); z-index: 2000; display: none; align-items: center; justify-content: center; padding: 20px; }
        .popup.active { display: flex; }
        .popup-content { background-color: #111; border-radius: 24px; padding: 30px 25px; width: 100%; max-width: 340px; border: 2px solid #333; }
        .popup-title { font-size: 22px; font-weight: bold; color: #00e5cc; margin-bottom: 15px; }
        .popup-text { font-size: 15px; color: #aaa; line-height: 1.7; text-align: left; margin-bottom: 20px; }
        .popup-close { background-color: #00e5cc; color: #0d0d0d; border: none; border-radius: 14px; padding: 14px; font-size: 16px; font-weight: bold; cursor: pointer; width: 100%; }
        .popup-close-grey { background: none; border: none; color: #888; font-size: 15px; margin-top: 12px; cursor: pointer; width: 100%; }
        .info-row { display: flex; align-items: center; gap: 10px; padding: 12px 0; border-bottom: 1px solid #222; font-size: 15px; }
        .info-row:last-child { border-bottom: none; }
        .info-emoji { font-size: 20px; }
        .os-btns { display: flex; gap: 10px; margin-bottom: 15px; }
        .os-btn { flex: 1; padding: 12px; border-radius: 12px; border: 2px solid #333; background-color: #1a1a1a; color: white; font-size: 14px; cursor: pointer; }
        .os-btn.selected { border-color: #00e5cc; color: #00e5cc; }
        .install-steps { background-color: #1a1a1a; border-radius: 14px; padding: 15px; text-align: left; margin-bottom: 15px; }
        .install-step { font-size: 14px; color: #aaa; padding: 6px 0; line-height: 1.5; }
    </style>
</head>
<body>

    <!-- BOUTON BURGER -->
    <button class="burger-btn" onclick="ouvrirMenu()">
        <div class="burger-line"></div>
        <div class="burger-line"></div>
        <div class="burger-line"></div>
    </button>

    <!-- OVERLAY -->
    <div class="menu-overlay" id="menu-overlay" onclick="fermerMenu()"></div>

    <!-- DRAWER -->
    <div class="menu-drawer" id="menu-drawer">
        <div class="menu-header">
            <span class="menu-title">üéâ Party Box</span>
            <button class="menu-close" onclick="fermerMenu()">‚úï</button>
        </div>
        <button class="menu-item" onclick="fermerMenu(); ouvrirPopup('popup-install')">
            <span class="menu-item-emoji">üì≤</span> Installer sur l'√©cran d'accueil
        </button>
        <button class="menu-item" onclick="fermerMenu(); ouvrirPopup('popup-contact')">
            <span class="menu-item-emoji">üì¨</span> Contactez-nous
        </button>
        <button class="menu-item" onclick="fermerMenu(); ouvrirPopup('popup-apropos')">
            <span class="menu-item-emoji">‚ÑπÔ∏è</span> √Ä propos
        </button>
        <button class="menu-item" onclick="fermerMenu(); ouvrirPopup('popup-confidentialite')">
            <span class="menu-item-emoji">üîí</span> Confidentialit√©
        </button>
        <button class="menu-item" onclick="fermerMenu(); noterSite()">
            <span class="menu-item-emoji">‚≠ê</span> Notez Party Box !
        </button>
        <div class="menu-version">Party Box v1.0 ‚Ä¢ Fait avec ‚ù§Ô∏è pour les soir√©es</div>
    </div>

    <!-- POPUP INSTALLER -->
    <div class="popup" id="popup-install">
        <div class="popup-content">
            <div class="popup-title">üì≤ Installer Party Box</div>
            <div class="os-btns">
                <button class="os-btn selected" id="btn-ios" onclick="selectOS('ios')">üçé iPhone</button>
                <button class="os-btn" id="btn-android" onclick="selectOS('android')">ü§ñ Android</button>
            </div>
            <div id="install-content-ios" class="install-steps">
                <div class="install-step">1Ô∏è‚É£ Clique sur Compris ‚úÖ ci-dessous</div>
                <div class="install-step">2Ô∏è‚É£ Descends et appuie sur <strong>"Sur l'√©cran d'accueil"</strong></div>
<div class="install-step">3Ô∏è‚É£ active <strong>"Ouvrir comme app web"</strong> </div>
<div class="install-step">4Ô∏è‚É£ clique sur <strong>"ajouter"</strong> et lance partybox depuis ton √©cran d'accueil pour l'utiliser comme une vraie app !</div>
            </div>
            <div id="install-content-android" class="install-steps" style="display:none">
                <div class="install-step">1Ô∏è‚É£ Appuie sur le menu <strong>‚ãÆ</strong> en haut √† droite de Chrome</div>
                <div class="install-step">2Ô∏è‚É£ Appuie sur <strong>"Ajouter √† l'√©cran d'accueil"</strong></div>
                <div class="install-step">3Ô∏è‚É£ Appuie sur <strong>"Ajouter"</strong></div>
            </div>
            <button class="popup-close" id="btn-compris-install" onclick="comprisInstall()">Compris ‚úÖ</button>
            <button class="popup-close-grey" onclick="fermerPopup('popup-install')">Fermer</button>
        </div>
    </div>

    <!-- POPUP CONTACT -->
    <div class="popup" id="popup-contact">
        <div class="popup-content">
            <div class="popup-title">üì¨ Contactez-nous</div>
            <p class="popup-text">Une id√©e de jeu ? Un bug ? Une suggestion ? On adore avoir des retours !</p>
            <button class="popup-close" onclick="window.location.href='mailto:partybox.mail@icloud.com?subject=Party Box - Contact'">‚úâÔ∏è Envoyer un email</button>
            <button class="popup-close-grey" onclick="fermerPopup('popup-contact')">Fermer</button>
        </div>
    </div>

    <!-- POPUP √Ä PROPOS -->
    <div class="popup" id="popup-apropos">
        <div class="popup-content">
            <div class="popup-title">‚ÑπÔ∏è √Ä propos</div>
            <p class="popup-text">Party Box est l'application de soir√©e ultime ! Jeux, outils et animations pour rendre chaque f√™te inoubliable. üéâ</p>
            <div class="info-row"><span class="info-emoji">üéÆ</span> 7 jeux disponibles</div>
            <div class="info-row"><span class="info-emoji">üõ†Ô∏è</span> 5 outils de soir√©e</div>
            <div class="info-row"><span class="info-emoji">üì±</span> 100% gratuit</div>
            <div class="info-row"><span class="info-emoji">üîí</span> Aucune donn√©e collect√©e</div>
            <div class="info-row"><span class="info-emoji">‚ù§Ô∏è</span> Fait avec passion pour les f√™tes</div>
            <div class="info-row"><span class="info-emoji">üöÄ</span> Version 1.0</div>
            <button class="popup-close" style="margin-top:20px" onclick="fermerPopup('popup-apropos')">Super ! ‚úÖ</button>
        </div>
    </div>

    <!-- POPUP CONFIDENTIALIT√â -->
    <div class="popup" id="popup-confidentialite">
        <div class="popup-content">
            <div class="popup-title">üîí Confidentialit√©</div>
            <div class="info-row"><span class="info-emoji">‚úÖ</span> Aucune donn√©e personnelle collect√©e</div>
            <div class="info-row"><span class="info-emoji">‚úÖ</span> Aucun compte requis</div>
            <div class="info-row"><span class="info-emoji">‚úÖ</span> Tout reste sur votre appareil</div>
            <div class="info-row"><span class="info-emoji">‚úÖ</span> Aucune publicit√©</div>
            <div class="info-row"><span class="info-emoji">‚úÖ</span> Aucun tracking</div>
            <div class="info-row"><span class="info-emoji">‚úÖ</span> Fonctionne sans connexion</div>
            <button class="popup-close" style="margin-top:20px" onclick="fermerPopup('popup-confidentialite')">Compris ‚úÖ</button>
        </div>
    </div>

    <!-- ACCUEIL -->
    <div class="screen active" id="screen-home">
        <h1><img src="F1CE1FF7-8FC2-440D-8100-49C689144B20.png" style="width:180px; border-radius:20px; margin-bottom:10px; margin-top:20px;"></h1>
        <p class="subtitle">Choisis ton jeu !</p>
        <div class="cat-tabs">
            <button class="cat-tab active-jeux" id="tab-jeux" onclick="showCat('jeux')">üéÆ Jeux</button>
            <button class="cat-tab" id="tab-tools" onclick="showCat('tools')">üõ†Ô∏è Outils</button>
        </div>
        <div id="grid-jeux" style="display:grid;grid-template-columns:repeat(2,1fr);gap:12px;width:100%;max-width:340px">
            <button class="game-btn" onclick="showScreen('screen-config')">‚è±Ô∏è<br>Time's Up</button>
            <button class="game-btn" onclick="window.location.href='millebornes.html'">üöó<br>Mille Bornes</button>
            <button class="game-btn" onclick="window.location.href='tiktaktoe.html'">‚ùå‚≠ï<br>Tic Tac Toe</button>
            <button class="game-btn" onclick="window.location.href='loupgarou.html'">üê∫<br>Loup Garou</button>
            <button class="game-btn" onclick="window.location.href='actvrt.html'">üéØ<br>Action ou V√©rit√©</button>
            <button class="game-btn" onclick="window.location.href='susceptible.html'">ü§î<br>Susceptible</button>
            <button class="game-btn" onclick="window.location.href='intrus.html'">üïµÔ∏è<br>L'Intrus</button>
        </div>
        <div id="grid-tools" style="display:none;grid-template-columns:repeat(2,1fr);gap:12px;width:100%;max-width:340px">
            <button class="game-btn tool-btn" onclick="window.location.href='roue.html'">üé°<br>Roue</button>
            <button class="game-btn tool-btn" onclick="window.location.href='votes.html'">üó≥Ô∏è<br>Votes</button>
            <button class="game-btn tool-btn" onclick="window.location.href='timer.html'">‚è±Ô∏è<br>Timer</button>
            <button class="game-btn tool-btn" onclick="window.location.href='score.html'">üèÜ<br>Scores</button>
            <button class="game-btn tool-btn" onclick="window.location.href='equipes.html'">üë•<br>√âquipes</button>
        </div>
        <div style="height:30px"></div>
    </div>

    <!-- CONFIG -->
    <div class="screen" id="screen-config">
        <h2>‚öôÔ∏è Configuration</h2>
        <div class="config-box">
            <p class="config-label">üë• Nombre d'√©quipes</p>
            <div class="counter">
                <button class="counter-btn" onclick="changeTeams(-1)">‚àí</button>
                <span class="counter-value" id="teams-value">2</span>
                <button class="counter-btn" onclick="changeTeams(1)">+</button>
            </div>
        </div>
        <div class="config-box">
            <p class="config-label">‚è±Ô∏è Dur√©e du timer (secondes)</p>
            <div class="counter">
                <button class="counter-btn" onclick="changeTimer(-5)">‚àí</button>
                <span class="counter-value" id="timer-value">30</span>
                <button class="counter-btn" onclick="changeTimer(5)">+</button>
            </div>
        </div>
        <div class="config-box">
            <p class="config-label">üìù Nombre de mots par manche</p>
            <div class="counter">
                <button class="counter-btn" onclick="changeNbMots(-5)">‚àí</button>
                <span class="counter-value" id="nbmots-value">20</span>
                <button class="counter-btn" onclick="changeNbMots(5)">+</button>
            </div>
        </div>
        <button class="start-btn" onclick="showTeamNames()">Suivant ‚û°Ô∏è</button>
        <button class="back-btn" onclick="showScreen('screen-home')">‚Üê Retour</button>
    </div>

    <!-- NOMS √âQUIPES -->
    <div class="screen" id="screen-teams">
        <h2>‚úèÔ∏è Noms des √©quipes</h2>
        <div id="team-inputs"></div>
        <button class="start-btn" onclick="startGame()" style="margin-top:20px">C'est parti ! üöÄ</button>
        <button class="back-btn" onclick="showScreen('screen-config')">‚Üê Retour</button>
    </div>

    <!-- R√àGLES DE LA MANCHE -->
    <div class="screen" id="screen-regles">
        <p class="manche-info" id="regles-manche"></p>
        <h2>R√®gles de la manche</h2>
        <div class="regle-box">
            <div class="regle-emoji" id="regle-emoji"></div>
            <div class="regle-titre" id="regle-titre"></div>
            <div class="regle-desc" id="regle-desc"></div>
        </div>
        <button class="start-btn" onclick="afficherPreTour()">Compris ! ‚úÖ</button>
    </div>

    <!-- PR√â-TOUR -->
    <div class="screen" id="screen-pretour">
        <p class="manche-info" id="pretour-manche"></p>
        <h2 id="pretour-team"></h2>
        <p style="color:#888; margin-bottom:15px; font-size:14px" id="pretour-regle"></p>
        <p style="color:#888; margin-bottom:40px">Passez le t√©l√©phone √† cette √©quipe !</p>
        <button class="start-btn" onclick="startCountdown()">‚ñ∂Ô∏è Lancer le tour</button>
    </div>

    <!-- COMPTE √Ä REBOURS -->
    <div class="screen" id="screen-countdown">
        <div class="countdown-number" id="countdown-display">3</div>
    </div>

    <!-- √âCRAN JEU -->
    <div class="screen" id="screen-jeu">
        <p class="manche-info" id="jeu-manche"></p>
        <p class="team-info" id="jeu-team"></p>
        <div class="timer-circle" id="timer-display">30</div>
        <p class="mots-restants" id="mots-restants"></p>
        <div class="word-card">
            <p class="word-text" id="word-display">...</p>
        </div>
        <div class="action-btns">
            <button class="btn-red" onclick="motRat√©()">‚ùå</button>
            <button class="btn-green" onclick="motReussi()">‚úÖ</button>
        </div>
    </div>

    <!-- FIN DE TOUR -->
    <div class="screen" id="screen-fintour">
        <h2 id="fintour-titre">‚è∞ Temps √©coul√© !</h2>
        <p style="color:#888; margin-bottom:30px" id="fintour-info"></p>
        <div id="scores-list"></div>
        <button class="start-btn" onclick="tourSuivant()" style="margin-top:20px" id="btn-suivant">Tour suivant ‚û°Ô∏è</button>
    </div>

    <!-- FIN DE PARTIE -->
    <div class="screen" id="screen-fin">
        <h2>üèÜ Fin de partie !</h2>
        <p style="color:#888; margin-bottom:30px">R√©sultats finaux</p>
        <div id="final-scores"></div>
        <button class="start-btn" onclick="showScreen('screen-home')" style="margin-top:30px">üè† Accueil</button>
    </div>

    <script>
        // MENU BURGER
        function ouvrirMenu() {
            document.getElementById('menu-drawer').classList.add('active');
            document.getElementById('menu-overlay').classList.add('active');
        }

        function fermerMenu() {
            document.getElementById('menu-drawer').classList.remove('active');
            document.getElementById('menu-overlay').classList.remove('active');
        }

        function ouvrirPopup(id) {
            document.getElementById(id).classList.add('active');
        }

        function fermerPopup(id) {
            document.getElementById(id).classList.remove('active');
        }

        let osSelectionne = 'ios';
        function selectOS(os) {
            osSelectionne = os;
            document.getElementById('btn-ios').className = 'os-btn' + (os === 'ios' ? ' selected' : '');
            document.getElementById('btn-android').className = 'os-btn' + (os === 'android' ? ' selected' : '');
            document.getElementById('install-content-ios').style.display = os === 'ios' ? 'block' : 'none';
            document.getElementById('install-content-android').style.display = os === 'android' ? 'block' : 'none';
        }

        function comprisInstall() {
            if (osSelectionne === 'ios') {
                if (navigator.share) {
                    navigator.share({ title: 'Party Box', url: window.location.href })
                        .catch(() => {});
                }
            }
            fermerPopup('popup-install');
        }

        function noterSite() {
            if (navigator.share) {
                navigator.share({
                    title: 'Party Box üéâ',
                    text: 'D√©couvrez Party Box, le site de soir√©e ultime !',
                    url: window.location.href
                }).catch(() => {});
            } else {
                alert('Partagez Party Box avec vos amis ! üéâ\n' + window.location.href);
            }
        }

        // CAT√âGORIES
        function showCat(cat) {
            if (cat === 'jeux') {
                document.getElementById('grid-jeux').style.display = 'grid';
                document.getElementById('grid-tools').style.display = 'none';
                document.getElementById('tab-jeux').className = 'cat-tab active-jeux';
                document.getElementById('tab-tools').className = 'cat-tab';
            } else {
                document.getElementById('grid-jeux').style.display = 'none';
                document.getElementById('grid-tools').style.display = 'grid';
                document.getElementById('tab-jeux').className = 'cat-tab';
                document.getElementById('tab-tools').className = 'cat-tab active-tools';
            }
        }

        // TIME'S UP
        const mots = [
            "Chat","Chien","Voiture","Pizza","Football","Guitare","Plage","Montagne",
            "Avion","Train","V√©lo","Soleil","Lune","√âtoile","For√™t","Rivi√®re",
            "Chocolat","Glace","Hamburger","Spaghetti","T√©l√©phone","Ordinateur",
            "T√©l√©vision","Radio","Canap√©","Table","Chaise","Fen√™tre","Porte","Escalier",
            "Piscine","Jardin","Fleur","Arbre","Oiseau","Poisson","Lapin","Cheval",
            "Lion","√âl√©phant","Girafe","Singe","Serpent","Crocodile","Requin","Dauphin",
            "Ballon","Raquette","Basket","Tennis","Natation","Ski","Boxe","Danse",
            "Musique","Chanson","Concert","Sc√®ne","Microphone","Batterie","Piano","Violon",
            "Peinture","Sculpture","Photo","Cin√©ma","Th√©√¢tre","Livre","Magazine","Journal",
            "√âcole","Universit√©","Professeur","√âl√®ve","Crayon","Stylo","Cahier","Sac",
            "Manteau","Chapeau","Lunettes","Montre","Bague","Collier","Chaussures",
            "Frigo","Four","Micro-onde","Casserole","Assiette","Verre","Fourchette","Couteau",
            "H√¥pital","M√©decin","Infirmi√®re","Pharmacie","M√©dicament","Ambulance",
            "Pompier","Police","Avocat","Juge","Prison","Banque","Argent","Carte",
            "Vacances","Voyage","H√¥tel","Restaurant","Caf√©","Bar","Discoth√®que","F√™te",
            "Anniversaire","Cadeau","Bougie","G√¢teau","Confetti","Champagne",
            "Cool","Selfie","Hashtag","Internet","Wi-Fi","Emoji","Story","Like",
            "Influenceur","Podcast","Streaming","Playlist","Application","Notification",
            "Skateboard","Trottinette","Casque","√âcouteurs","Chargeur","C√¢ble",
            "Yoga","M√©ditation","Sport","Fitness","Musculation","Course","Marathon",
            "Burger","Tacos","Sushi","Kebab","Nuggets","Frites","Smoothie","Bubble tea",
            "Chanteur","Acteur","Footballeur","Joueur","Coach","Arbitre","Supporter",
            "Stade","Vestiaire","Troph√©e","M√©daille","Podium","Champion","√âquipe",
            "Printemps","√ât√©","Automne","Hiver","Pluie","Neige","Orage","Arc-en-ciel",
            "Camping","Randonn√©e","Tente","Sac de couchage","Boussole","Feu de camp",
            "Surf","Planche","Vague","Combinaison","Palmes","Masque","Tuba","Plong√©e",
            "Boulanger","Boucher","√âpicerie","March√©","Supermarch√©","Caisse","Chariot",
            "Dentiste","Opticien","Coiffeur","Barbier","Esth√©ticienne","Manucure",
            "Mairie","Pr√©fecture","Passeport","Carte d'identit√©","Permis","Amende",
            "Ascenseur","Escalator","Couloir","Parking","Garage","Atelier","Usine",
            "Tracteur","Moissonneuse","Ferme","Vache","Cochon","Poulet","Mouton","Ch√®vre",
            "Ruche","Abeille","Miel","Papillon","Coccinelle","Fourmi","Araign√©e","Moustique"
        ];

        const regles = [
            { emoji: "üó£Ô∏è", titre: "Manche 1 ‚Äî D√©crivez !", desc: "Vous pouvez dire tout ce que vous voulez, faire des phrases, donner des indices... Tout est permis sauf le mot !" },
            { emoji: "ü§´", titre: "Manche 2 ‚Äî Un seul mot !", desc: "Vous n'avez le droit qu'√† UN SEUL mot pour faire deviner. Pas de phrases, pas de gestes !" },
            { emoji: "üé≠", titre: "Manche 3 ‚Äî Mime !", desc: "Silence total ! Vous devez mimer uniquement. Interdit de parler ou de faire des sons !" }
        ];

        let nbTeams = 2, timerDuration = 30, nbMotsManche = 20;
        let teamNames = [], scores = [];
        let mancheActuelle = 1, equipeActuelle = 0;
        let motIndex = 0, motsMelang√©s = [], motsSelection = [];
        let timerInterval = null, tempsRestant = 0;

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function changeTeams(delta) {
            nbTeams = Math.min(6, Math.max(2, nbTeams + delta));
            document.getElementById('teams-value').textContent = nbTeams;
        }

        function changeTimer(delta) {
            timerDuration = Math.min(120, Math.max(10, timerDuration + delta));
            document.getElementById('timer-value').textContent = timerDuration;
        }

        function changeNbMots(delta) {
            nbMotsManche = Math.min(50, Math.max(5, nbMotsManche + delta));
            document.getElementById('nbmots-value').textContent = nbMotsManche;
        }

        function showTeamNames() {
            const container = document.getElementById('team-inputs');
            container.innerHTML = '';
            for (let i = 1; i <= nbTeams; i++) {
                const input = document.createElement('input');
                input.className = 'team-input';
                input.placeholder = 'üèÜ √âquipe ' + i;
                input.id = 'team-' + i;
                container.appendChild(input);
            }
            showScreen('screen-teams');
        }

        function startGame() {
            teamNames = []; scores = [];
            for (let i = 1; i <= nbTeams; i++) {
                const val = document.getElementById('team-' + i).value.trim();
                teamNames.push(val || '√âquipe ' + i);
                scores.push(0);
            }
            mancheActuelle = 1; equipeActuelle = 0;
            const melange = [...mots].sort(() => Math.random() - 0.5);
            motsSelection = melange.slice(0, nbMotsManche);
            motsMelang√©s = [...motsSelection].sort(() => Math.random() - 0.5);
            motIndex = 0;
            afficherRegles();
        }

        function afficherRegles() {
            const r = regles[mancheActuelle - 1];
            document.getElementById('regles-manche').textContent = 'üéÆ Manche ' + mancheActuelle + ' / 3';
            document.getElementById('regle-emoji').textContent = r.emoji;
            document.getElementById('regle-titre').textContent = r.titre;
            document.getElementById('regle-desc').textContent = r.desc;
            showScreen('screen-regles');
        }

        function afficherPreTour() {
            const r = regles[mancheActuelle - 1];
            document.getElementById('pretour-manche').textContent = 'üéÆ Manche ' + mancheActuelle + ' / 3';
            document.getElementById('pretour-team').textContent = 'üë• ' + teamNames[equipeActuelle];
            document.getElementById('pretour-regle').textContent = r.emoji + ' ' + r.titre;
            showScreen('screen-pretour');
        }

        function startCountdown() {
            showScreen('screen-countdown');
            let count = 3;
            document.getElementById('countdown-display').textContent = count;
            const interval = setInterval(() => {
                count--;
                if (count <= 0) { clearInterval(interval); startTour(); }
                else document.getElementById('countdown-display').textContent = count;
            }, 1000);
        }

        function startTour() {
            tempsRestant = timerDuration;
            document.getElementById('jeu-manche').textContent = 'üéÆ Manche ' + mancheActuelle + ' / 3';
            document.getElementById('jeu-team').textContent = 'üë• ' + teamNames[equipeActuelle];
            afficherMot(); updateTimer();
            showScreen('screen-jeu');
            timerInterval = setInterval(() => {
                tempsRestant--; updateTimer();
                if (tempsRestant <= 0) finDeTour();
            }, 1000);
        }

        function afficherMot() {
            if (motIndex >= motsMelang√©s.length) { finDeManche(); return; }
            document.getElementById('word-display').textContent = motsMelang√©s[motIndex];
            document.getElementById('mots-restants').textContent = 'üìù ' + (motsMelang√©s.length - motIndex) + ' mots restants';
        }

        function updateTimer() {
            const el = document.getElementById('timer-display');
            el.textContent = tempsRestant;
            el.className = 'timer-circle';
            if (tempsRestant <= 5) el.classList.add('danger');
            else if (tempsRestant <= 10) el.classList.add('warning');
        }

        function motReussi() { scores[equipeActuelle]++; motIndex++; afficherMot(); }
        function motRat√©() { motIndex++; afficherMot(); }

        function finDeTour() {
            clearInterval(timerInterval);
            document.getElementById('fintour-titre').textContent = '‚è∞ Temps √©coul√© !';
            document.getElementById('fintour-info').textContent = teamNames[equipeActuelle] + ' a jou√© ! Il reste ' + (motsMelang√©s.length - motIndex) + ' mots.';
            afficherScores('scores-list');
            equipeActuelle++;
            const btn = document.getElementById('btn-suivant');
            if (equipeActuelle >= nbTeams) {
                if (motIndex >= motsMelang√©s.length) {
                    if (mancheActuelle >= 3) { btn.textContent = 'üèÜ Voir les r√©sultats'; btn.onclick = finDePartie; }
                    else { btn.textContent = 'Manche suivante ‚û°Ô∏è'; btn.onclick = mancheSuivante; }
                } else {
                    equipeActuelle = 0;
                    btn.textContent = 'Continuer ‚û°Ô∏è'; btn.onclick = afficherPreTour;
                }
            } else { btn.textContent = 'Tour suivant ‚û°Ô∏è'; btn.onclick = afficherPreTour; }
            showScreen('screen-fintour');
        }

        function finDeManche() {
            clearInterval(timerInterval);
            document.getElementById('fintour-titre').textContent = 'üéâ Tous les mots jou√©s !';
            document.getElementById('fintour-info').textContent = 'La manche ' + mancheActuelle + ' est termin√©e !';
            afficherScores('scores-list');
            const btn = document.getElementById('btn-suivant');
            if (mancheActuelle >= 3) { btn.textContent = 'üèÜ Voir les r√©sultats'; btn.onclick = finDePartie; }
            else { btn.textContent = 'Manche suivante ‚û°Ô∏è'; btn.onclick = mancheSuivante; }
            showScreen('screen-fintour');
        }

        function afficherScores(containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            teamNames.forEach((name, i) => {
                const div = document.createElement('div');
                div.className = 'score-box';
                div.innerHTML = '<span class="score-team">' + name + '</span><span class="score-points">' + scores[i] + ' pts</span>';
                container.appendChild(div);
            });
        }

        function tourSuivant() { afficherPreTour(); }

        function mancheSuivante() {
            mancheActuelle++; equipeActuelle = 0;
            motsMelang√©s = [...motsSelection].sort(() => Math.random() - 0.5);
            motIndex = 0; afficherRegles();
        }

        function finDePartie() { afficherScores('final-scores'); showScreen('screen-fin'); }
    </script>
</body>
</html>
